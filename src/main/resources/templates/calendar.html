<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header(title = ${pageTitle}, includeHeaderFragment = ${'calendar-header'})"></head>

<body>
<nav th:replace="fragments/navigation :: navigation"></nav>

<div class="page-content">
    <h1>CALENDAR:</h1>
    <span th:if="${authenticated}">Logged in as [[${authenticated.username}]]</span>

    <div class="calendar">
        <div class="calendar-title-mm-yyyy">
            [[${selectedDate.month}]] [[${selectedDate.year}]]
            <form th:action="@{/calendar}">
                <button type="submit"
                        title="Month Backwards"
                        name="selectedDate"
                        th:value="${selectedDate.minusMonths(1)}"><
                </button>
                <button type="submit"
                        name="selectedDate"
                        title="Month Forwards"
                        th:value="${selectedDate.plusMonths(1)}">>
                </button>
            </form>
        </div>
        <div class="calendar-dates">
            <div class="calendar-title" title="Monday">M</div>
            <div class="calendar-title" title="Tuesday">T</div>
            <div class="calendar-title" title="Wednesday">W</div>
            <div class="calendar-title" title="Thursday">T</div>
            <div class="calendar-title" title="Friday">F</div>
            <div class="calendar-title" title="Saturday">S</div>
            <div class="calendar-title" title="Sunday">S</div>
        </div>
        <form class="calendar-dates">
            <button th:each="calendarDate : ${calendarDates}"
                    th:class="${
                     calendarDate.dayOfWeek +
                     (calendarDate == selectedDate ? ' selected' : '') +
                     (calendarDate.month != selectedDate.month ? ' date-out-of-range' : '') +
                     ' calendar-date' }"
                    type="submit"
                    name="selectedDate"
                    th:value="${calendarDate}">
                [[${calendarDate.dayOfMonth}]]
            </button>
        </form>
    </div>
</div>
</body>
</html>